import{r as i,n as F,l as A,j as e,m as x,L as b,s as C,t as q,v as L,w as R,V as j}from"./index-DyAsnBHk.js";import{F as V}from"./FuelupLogo-CjFl7yqV.js";const D=()=>{const[a,v]=i.useState({email:"",password:"",remember:!1}),[c,N]=i.useState(!1),[t,n]=i.useState({}),[h,o]=i.useState(""),[f,w]=i.useState(!1),u=F(),{login:S,authenticated:y,user:m}=A();i.useEffect(()=>{y&&(m==null?void 0:m.role)==="admin"&&u("/admin")},[y,m,u]);const k=()=>{N(!c)},p=g=>{const{name:r,value:l,type:s,checked:d}=g.target;v({...a,[r]:s==="checkbox"?d:l}),t[r]&&n(E=>({...E,[r]:""})),h&&o("")},P=async g=>{g.preventDefault(),o(""),n({});let r=!1;const l={};if(a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(l.email="Please enter a valid email address",r=!0):(l.email="Email is required",r=!0),a.password||(l.password="Password is required",r=!0),r){n(l);return}w(!0);try{const s=await S(a.email,a.password);s.success?u("/admin"):s.error&&(s.error.includes("email must be an email")?n(d=>({...d,email:"Please enter a valid email address"})):s.error.includes("password must be a string")||s.error.includes("password should not be empty")?n(d=>({...d,password:"Password is required"})):s.error.includes("Admin privileges required")?(o("Access denied. This portal is for administrators only."),j.error("Access denied. This portal is for administrators only.")):o(s.error))}catch{o("An error occurred. Please try again."),j.error("An error occurred. Please try again.")}finally{w(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center px-4 py-16",children:[e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[e.jsx(b,{to:"/",className:"inline-block mb-6",children:e.jsx(V,{})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Admin Portal"}),e.jsx("p",{className:"text-gray-400",children:"Sign in to access the admin dashboard"})]}),e.jsxs(x.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},onSubmit:P,className:"bg-gray-800/40 backdrop-blur-md rounded-2xl p-8 shadow-xl border border-gray-700/50",children:[h&&e.jsxs("div",{className:"mb-6 p-3 rounded-md bg-red-500/20 border border-red-500/40 text-red-200 flex items-start gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("span",{children:h})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(C,{className:"text-gray-500"})}),e.jsx("input",{id:"email",name:"email",type:"email",value:a.email,onChange:p,required:!0,className:`w-full bg-gray-900/60 border ${t.email?"border-red-500":"border-gray-700"} pl-10 pr-4 py-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-500 transition-all duration-300`,placeholder:"admin@example.com"})]}),t.email&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.email})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),e.jsx(b,{to:"/forgot-password",className:"text-sm text-emerald-400 hover:emerald-blue-300 transition-colors",children:"Forgot Password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(q,{className:"text-gray-500"})}),e.jsx("input",{id:"password",name:"password",type:c?"text":"password",value:a.password,onChange:p,required:!0,className:`w-full bg-gray-900/60 border ${t.password?"border-red-500":"border-gray-700"} pl-10 pr-12 py-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-white placeholder-gray-500 transition-all duration-300`,placeholder:"••••••••"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:k,"aria-label":c?"Hide password":"Show password",children:c?e.jsx(L,{className:"text-gray-500 hover:text-gray-300 transition-colors"}):e.jsx(R,{className:"text-gray-500 hover:text-gray-300 transition-colors"})})]}),t.password&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.password})]}),e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("input",{id:"remember",name:"remember",type:"checkbox",checked:a.remember,onChange:p,className:"h-4 w-4 text-emerald-500 focus:ring-emerald-500 border-gray-700 rounded bg-gray-900"}),e.jsx("label",{htmlFor:"remember",className:"ml-2 block text-sm text-emerald-300",children:"Remember me"})]}),e.jsx(x.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-300 flex items-center justify-center",disabled:f,children:f?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"})]}),e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"text-center mt-6",children:e.jsxs("p",{className:"text-gray-400",children:["Admin access only. Return to"," ",e.jsx(b,{to:"/",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Main Site"})]})})]}),e.jsx("div",{className:"hidden lg:block lg:w-1/2",children:e.jsx("div",{className:"h-full w-full bg-gradient-to-r from-blue-600 to-indigo-600 flex items-center justify-center p-12",children:e.jsxs("div",{className:"max-w-lg",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Admin Control Panel"}),e.jsx("p",{className:"text-lg text-white/90 mb-8",children:"Manage users, orders, inventory, and analytics from a single dashboard."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-3 w-3 bg-white rounded-full"}),e.jsx("span",{className:"text-white",children:"Comprehensive user management"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-3 w-3 bg-white rounded-full"}),e.jsx("span",{className:"text-white",children:"Real-time order tracking"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-3 w-3 bg-white rounded-full"}),e.jsx("span",{className:"text-white",children:"Detailed analytics and reports"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-3 w-3 bg-white rounded-full"}),e.jsx("span",{className:"text-white",children:"Inventory management system"})]})]})]})})})]})};export{D as default};
